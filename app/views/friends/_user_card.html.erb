<div class="bg-gray-900/40 border border-green-500/20 p-4 rounded-xl flex items-center justify-between group hover:border-green-500/50 transition-all">
  <div class="flex items-center gap-4">
  <div class="w-10 h-10 rounded-full border border-green-500/30 flex items-center justify-center bg-green-950 text-green-500 font-bold">
    <%= user.nickname&.at(0)&.upcase || "?" %>
  </div>
  <div>
    <p class="text-green-400 font-bold text-sm">@<%= user.nickname %></p>
    <%= link_to "[VIEW_LOGS]", user_path(user), class: "text-[9px] text-green-800 hover:text-green-500 uppercase font-bold tracking-tighter" %>
  </div>
</div>

  <%# Localiza o chat entre o usuário logado e o usuário do card %>
<% chat = Chat.between(current_user.id, user.id).first %>

<%# Agora o Chat.between não vai mais dar "no such table"  %>
<% chat = Chat.between(current_user.id, user.id).first %>

<div class="flex gap-2">
  <% if type == 'following' %>
    <% if chat %>
      <%# Adicione data: { turbo: false } no link_to %>
<%= link_to "[CHAT]", chat_path(chat),
    data: { turbo: false },
    class: "text-[10px] font-bold text-green-500 border border-green-500/30 px-3 py-1 rounded hover:bg-green-500/10" %>
    <% else %>
      <%= button_to "[START_CHAT]", chats_path(receiver_id: user.id), class: "text-[10px] font-bold text-green-700 border border-green-900/30 px-3 py-1 rounded hover:bg-green-500/10" %>
    <% end %>
  <% end %>
</div>
</div>
